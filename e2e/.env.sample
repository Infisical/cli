# E2E Test Configuration
# Copy this file to .env and update the values as needed.
# The .env file is automatically loaded when running e2e tests.

# =============================================================================
# Required Configuration
# =============================================================================

# Path to the Infisical backend directory
# This should point to the backend folder of the infisical repository
# Example: /Users/your-username/workspace/infisical/backend
INFISICAL_BACKEND_DIR=/path/to/infisical/backend

# =============================================================================
# Optional Configuration
# =============================================================================

# Dockerfile to use for building the backend service
# Defaults to "Dockerfile.dev.fips" if not set
# INFISICAL_BACKEND_DOCKERFILE=Dockerfile.dev.fips

# Path to the CLI executable to use for testing
# If not set, the test will look for ./infisical-merge in the e2e directory
# This is only needed when using the "subprocess" run method
# INFISICAL_CLI_EXECUTABLE=./infisical-merge

# Default run method for CLI commands in tests
# Valid values: "functionCall" (default) or "subprocess"
# - functionCall: Calls CLI functions directly (better for IDE debugging, can collect stdout/stderr)
#   Note: Since all commands run in the same process, make sure to properly reset any global state between test cases
# - subprocess: Runs CLI as a separate process (simulates real user interaction, better isolation, can collect stdout/stderr)
# CLI_E2E_DEFAULT_RUN_METHOD=subprocess

# =============================================================================
# Development & Debugging Options
# =============================================================================

# Disable the compose container cache
# When enabled (default), tests will reuse existing containers to speed up development
# Set to "1" to disable caching and always start fresh containers
# CLI_E2E_DISABLE_COMPOSE_CACHE=1

# Disable Ryuk container cleanup
# When enabled, testcontainers will keep containers running after tests complete
# This is useful for debugging backend issues
# Set to "true" to disable automatic container cleanup
# TESTCONTAINERS_RYUK_DISABLED=true
